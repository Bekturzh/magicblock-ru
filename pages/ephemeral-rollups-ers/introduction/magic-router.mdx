---
description: "Узнайте, как Magic Router от MagicBlock ускоряет транзакции, направляя их в правильную среду выполнения."
title: "Magic Router"
---

import MagicRouterSDK from "/snippets/magic-router-sdk.mdx";

<div style={{ position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden" }}>
<iframe src="https://www.youtube.com/embed/Wc2XMAKtEug?si=bjitIDG7w5fY5zmK&list=PLWR_ZQiGMS8mIe1kPZe8OfHIbhvZqaM8V" title="Why Build with MagicBlock? Solve Scaling & UX Pain Points with Ephemeral Rollups" style={{ position:"absolute",top:0,left:0,width:"100%",height:"100%" }} frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowFullScreen referrerPolicy="strict-origin-when-cross-origin" />

</div>

---

## Динамическая маршрутизация транзакций

**Magic Router от MagicBlock — это движок динамической маршрутизации транзакций, который ускоряет их выполнение, интеллектуально определяя, где они должны выполняться — на Ephemeral Rollups или Solana — на основе метаданных транзакции.**

Это устраняет необходимость ручной логики маршрутизации со стороны разработчика, обеспечивая значительные преимущества в скорости транзакций и удобстве разработки.

- ✅ **Простая интеграция с одним эндпоинтом:** Достаточно подключиться к единому RPC-эндпоинту.
- ✅ **Бесшовная работа с кошельком:** Подключение, подпись и отправка — без необходимости разбираться, что происходит за кулисами.
- ✅ **Более быстрые подтверждения:** Magic Router направляет транзакции к самому быстрому доступному эндпоинту.

<img
  class="w-full h-auto max-w-5xl"
  src="/images/magic-router.png"
/>

---

## Быстрый Старт 

<CardGroup cols={2}>
  <Card title="Anchor" icon="anchor" iconType="duotone" href="https://github.com/magicblock-labs/magicblock-engine-examples/tree/main/anchor-counter">
    Интеграция с программой на Anchor
  </Card>
  <Card title="Native Rust" icon="rust" iconType="duotone" href="https://github.com/magicblock-labs/magicblock-engine-examples/tree/main/rust-counter">
    Интеграция с нативной программой на Rust
  </Card>
  <Card title="API" icon="server" iconType="duotone" href="/api-reference/er-api/getRoutes">
    Попробуйте API Magic Router
  </Card>
</CardGroup>

---

## Фрагменты Кода

<MagicRouterSDK />

Magic Router анализирует метаданные каждой транзакции (например, изменяемые аккаунты, владельца и подписанта) и автоматически направляет её к ближайшему выделенному эндпоинту:

<img
  class="w-full h-auto max-w-5xl"
  src="/images/magic-router-scenarios.png"
/>

---

1. **Клиент — отправка транзакции**\
   dApp или пользователь отправляет транзакцию на RPC-эндпоинт Magic Router.
2. **RPC — проверка метаданных**\
   Magic Router проверяет метаданные транзакции и определяет владельца изменяемых аккаунтов.
3. **Валидатор — интеллектуальная маршрутизация и выполнение**\
   На основе метаданных маршрутизатор определяет, куда направить транзакцию:

- **Ephemeral Rollup** для быстрого, с низкой задержкой и без комиссии выполнения
- **Solana** для постоянного, высокопроизводительного выполнения