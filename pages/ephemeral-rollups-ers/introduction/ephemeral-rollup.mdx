---
title: "Делегирование, Фиксация и Анделегирование"
description: "Выполняйте транзакции, синхронизируйте состояния — всё в реальном времени."
---

import Validators from "/snippets/validators.mdx";

<img
  class="w-full h-auto max-w-5xl"
  src="/images/architecture_overview.png"
/>

Эфемерный Роллап от MagicBlock использует аккаунтную структуру и параллельное выполнение Solana Virtual Machine (SVM) для оптимизации управления состоянием. Структурируя состояние в кластеры, пользователи могут блокировать один или несколько аккаунтов и временно переносить выполнение состояния на выделенный вспомогательный слой — «Эфемерный Роллап (ЭР)». Динамический механизм защиты от мошенничества обеспечивает быструю финализацию состояния через децентрализованный Комитет по безопасности, смотерть [Белый лист](/public/Ephemeral_Rollups_Fraud_Proof.pdf)

---

## Жизненный цикл аккаунта для выполнения транзакций в реальном времени с ЭР:

<img
  class="w-full h-auto max-w-5xl"
  src="/images/magicblock-delegation-lifecycle.png"
/>

<Steps>
  <Step title="Делегировать аккаунт">
    Аккаунты состояния должны быть сначала делегированы конкретному валидатору ER путём изменения владельца аккаунта на [Delegation
    Program](https://github.com/magicblock-labs/delegation-program) `DELeGGvXpWV2fqJUhqcF5ZSYMS4JTLjteaAMARRSaeSh` и указания таких параметров, как валидатор ER, срок жизни аккаунта и частота синхронизации.

    <Validators />
  </Step>
  <Step title="Выполнить транзакцию в реальном времени">
    **Делегированные аккаунты состояния обновляются в реальном времени с помощью транзакций на ЭР напрямую или через **[Magic Router](/pages/ephemeral-rollups-ers/introduction/magic-router). **Начальная транзакция на ЭР клонирует делегированный аккаунт с базового слоя в эфемерный роллап.**
  </Step>
  <Step title="Фиксация состояния">
    Оператор периодически или по запросу фиксирует эфемерное состояние на базовом слое, включая новое состояние и соответствующие указатели. Состояние аккаунта финализируется с использованием механизма защиты от мошенничества, подробно описанного в документе.
  </Step>
  <Step title="Непрерывное выполнение транзакций в реальном времени">
    Делегированные состояния аккаунтов могут непрерывно обновляться в реальном времени напрямую на ЭР или через [Magic Router](/pages/ephemeral-rollups-ers/introduction/magic-router).
  </Step>
  <Step title="Отменить делегирование аккаунта">
    Делегированные состояния аккаунтов фиксируются через валидатор ER на базовом слое, и владелец аккаунта возвращается с [Delegation
    Program](https://github.com/magicblock-labs/delegation-program) `DELeGGvXpWV2fqJUhqcF5ZSYMS4JTLjteaAMARRSaeSh` **к первоначальному владельцу.**
  </Step>
</Steps>