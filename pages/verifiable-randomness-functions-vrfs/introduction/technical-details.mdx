---
title: "Технические детали"
description: "Как MagicBlock интегрирует проверяемую случайность"
---

Случайные числа генерируются с помощью VRF, построенного на группе Ristretto Curve25519, и проверяются с использованием подписи, похожей на Schnorr, как описано в RFC 9381. Доказательство и результат возвращаются в rollup через подписанный обратный вызов от MagicBlock VRF signer PDA. Ваша программа проверяет вызывающего и затем использует случайность в логике игры.

Вспомогательные утилиты, такие как `random_u32`, `random_u8_with_range` и `random_bool`, упрощают преобразование выхода `[u8; 32]` в удобные для использования значения. Поскольку шаги запроса и использования происходят внутри эфемерного окна выполнения, пользователи получают результаты в реальном времени с проверяемой справедливостью и без зависимости от внешних серверов.

## Последовательность 

<img
  class="w-full h-auto max-w-5xl"
  src="/images/vrf-flow.png"
/>

Процесс начинается с «Запроса случайности».

**Процесс начинается с «Запроса случайности».**

- Ваша программа выполнит CPI в программу MagicBlock VRF и добавит запрос в очередь.
- Как только ваш запрос на случайность окажется в очереди, оракул обработает его и выполнит вычисление случайности.
- По завершении вычислений результат и доказательство возвращаются в программу MagicBlock VRF. После проверки доказательства программа VRF выполнит обратный вызов в вашу программу в заранее определённую функцию, которая «потребляет» случайность.

<Note>
  Программа VRF от MagicBlock является открытой и прошла аудит.
</Note>

<CardGroup cols={2}>
  <Card title="Аудит" icon="certificate" iconType="duotone" href="/pages/overview/additional-information/security-and-audits">
    Прочитайте полный отчёт об аудите
  </Card>
  <Card title="Быстрый Старт" icon="book" iconType="duotone" href="/pages/verifiable-randomness-functions-vrfs/how-to-guide/quickstart">
    Узнайте, как добавить возможности генерации случайности
  </Card>
</CardGroup>