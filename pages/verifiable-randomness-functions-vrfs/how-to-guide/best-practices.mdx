---
title: "Лучшие практики"
description: "Руководство по интеграции проверяемой случайности"
---

**Используйте эти советы, чтобы получать наиболее надёжные результаты при запросе случайности. Убедитесь, что ваш rollup делегирует задачи в доверенную очередь оракулов с помощью инструкции **`DelegateOracleQueue`**, чтобы запросы выполнялись своевременно.**

**Выбор семени (Seed Selection)**

- Комбинируйте ввод пользователя с серверными временными метками или состоянием игры для создания непредсказуемых семян.
- Не позволяйте игрокам задавать полностью `caller_seed`, чтобы предотвратить манипуляции.

**Проверка обратного вызова (Callback Validation)**

- Всегда проверяйте `vrf_program_identity`, чтобы убедиться, что обратный вызов исходит от официального подписанта MagicBlock.
- Отклоняйте обратные вызовы, которые не соответствуют исходным параметрам запроса.

**Управление состоянием (State Management)**

- Сохраняйте идентификаторы всех ожидающих запросов, чтобы безопасно обрабатывать повторные попытки или неожиданные обратные вызовы.
- Отслеживайте очередь оракулов, в которую были делегированы ваши запросы, чтобы результаты можно было корректно сопоставить.
- Держите случайные результаты эфемерными — используйте их сразу в логике rollup и избегайте повторного использования.

**Следование этим рекомендациям снижает риск манипуляций и обеспечивает согласованную случайность между сессиями.**